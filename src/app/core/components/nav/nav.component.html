<ng-container *ngIf="authenticatedVerify(); then authenticatedTemplate; else unauthenticatedTemplate"></ng-container>

<ng-template #authenticatedTemplate>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark app-nav">
    <div class="container">

      <a class="navbar-brand btn btn-secondary bg-dark menubtn"
         (click)="isCollapsed = true">
        <i class="fa fa-home icon"></i>
      </a>

      <!--big screen-->
      <div class="collapse navbar-collapse block">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item"
              *ngFor="let item of items"
              routerLinkActive="activated">
            <a class="nav-link"
               routerLink={{item.url}}>{{item.name}}</a>
          </li>
        </ul>
      </div>

      <ul class="navbar-nav nvbar-right ml-auto p-2 profile-div">
        <div class="btn-group"
             dropdown>
          <button id="button-basic"
                  dropdownToggle
                  type="button"
                  aria-controls="dropdown-basic"
                  class="btn btn-secondary dropdown-toggle bg-dark menubtn"
                  (click)="isCollapsed = true">
            <i class="fa fa-user icon"></i>
          </button>
          <ul *dropdownMenu
              class="collapse bg-dark dropdown-menu-right dropprofile"
              aria-labelledby="button-basic"
              (click)="isCollapsed = true">
            <li class="profile-name">{{user.firstName}} {{user.lastName}}</li>
            <li class="divider dropdown-divider"></li>
            <li routerLinkActive="activated"><a class="nav-link"
                                                routerLink="dashboard">My Profile</a></li>
            <li routerLinkActive="activated">
              <button class="log-button nav-link"
                      type="button"
                      (click)="logOut()">Log out
              </button>
            </li>
          </ul>
        </div>
      </ul>

      <!--small screen-->
      <div class="btn-group navbar-toggler toggle-container">
        <button type="button"
                class="btn btn-secondary bg-dark menubtn"
                (click)="changeCollapse()">
          <span class="navbar-toggler-icon"></span>
        </button>
        <ul class="collapse bg-dark dropdown-menu-right dropfont"
            role="menu"
            (click)="isCollapsed = true"
            [collapse]="isCollapsed">
          <li routerLinkActive="activated"
              *ngFor="let item of items">
            <a class="nav-link"
               routerLink={{item.url}}>{{item.name}}</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</ng-template>

<ng-template #unauthenticatedTemplate>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark app-nav">
    <div class="container">
      <div class="navbar-brand mx-auto d-block text-center order-0 order-md-1 w-25">
        <h1 class="site-name">Better Moodle <span class="site-name__version">v1</span></h1>
      </div>
    </div>
  </nav>
</ng-template>
